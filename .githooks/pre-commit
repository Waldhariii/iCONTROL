#!/bin/zsh
set -euo pipefail
./scripts/audit/audit-no-leaks.zsh >/dev/null
npm -s run -S gate:ssot:paths || true
npm -s run -S gate:gates:sanity || true
npm -s run -S gate:routing:ssot:report
npm -s run -S gate:write-gateway-coverage || true
npm -s run -S gate:write-surface-map || true
npm -s run -S gate:ui-inline-drift
echo "OK: audit-no-leaks PASS"
npm run gate:route-catalog >/dev/null
echo "OK: gate:route-catalog PASS"
npm run gate:tenant-matrix >/dev/null
echo "OK: gate:tenant-matrix PASS"
npm run gate:design-tokens >/dev/null
echo "OK: gate:design-tokens PASS"
npm run gate:capability-status >/dev/null
echo "OK: gate:capability-status PASS"
# PHASE 6.1 (report-only)
npm -s run -S gate:ui-component-registry || true

# UI contracts (blocking)
npm -s run -S gate:ui-contracts
