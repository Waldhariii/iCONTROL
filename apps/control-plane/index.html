<!doctype html>
<html lang="fr">
  <head>

<!-- Removed: CP_HOME_CP_EARLY_REDIRECT_V3. Routing is now centralized in router.ts -->

<meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iCONTROL</title>
    <!-- ICONTROL_CRITICAL_CSS_V1: fond immédiat pour éviter flash blanc (first paint). -->
    <style>
      html, body { margin: 0; padding: 0; min-height: 100vh; overflow-x: hidden; }
      body { background: #0f1112; color: #e7ecef; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
      #app { min-height: 100vh; display: flex; align-items: center; justify-content: center; }
      #icontrol-boot { opacity: 0.85; font-size: 14px; color: #a7b0b7; }
    </style>
  
<!-- CP_HOME_CP_EARLY_REDIRECT_V3 removed: routing centralized in router.ts -->

</head>
  <body>
    <div id="app"><div id="icontrol-boot" aria-live="polite">Chargement…</div></div>
    <script>
      (function () {
        try {
          setTimeout(function () {
            if (window.__ICONTROL_BOOT_OK__) return;
            var el = document.getElementById("icontrol-boot");
            if (el) {
              el.textContent = "Boot bloqué (JS non exécuté ou crash). Ouvre la console.";
            }
          }, 3000);
        } catch (e) {}
      })();
    </script>
    <script
      type="module"
      src="/src/main.ts"
      id="icontrol-main"
      onerror="(function(){try{var el=document.getElementById('icontrol-boot');if(el){el.textContent='Boot error: main.ts failed to load';}}catch(e){}})()"
    ></script>
  </body>
</html>
